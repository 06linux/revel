---
layout: godoc
---

<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<h1>Validation</h1>

	
		
		<!-- The package's Name is printed as title by the top-level template -->
		
		

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index &#9657;</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index &#9662;</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="#pkg-variables">Variables</a></dd>
			
			
			
				
				<dd><a href="#Validation">type Validation</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Check">func (v *Validation) Check(obj interface{}, checks ...Validator) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Clear">func (v *Validation) Clear()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Email">func (v *Validation) Email(str string) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Error">func (v *Validation) Error(message string, args ...interface{}) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.ErrorMap">func (v *Validation) ErrorMap() map[string]*ValidationError</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.HasErrors">func (v *Validation) HasErrors() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Keep">func (v *Validation) Keep()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Length">func (v *Validation) Length(obj interface{}, n int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Match">func (v *Validation) Match(str string, regex *regexp.Regexp) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Max">func (v *Validation) Max(n int, max int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.MaxSize">func (v *Validation) MaxSize(obj interface{}, max int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Min">func (v *Validation) Min(n int, min int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.MinSize">func (v *Validation) MinSize(obj interface{}, min int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Range">func (v *Validation) Range(n, min, max int) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Validation.Required">func (v *Validation) Required(obj interface{}) *ValidationResult</a></dd>
				
			
				
				<dd><a href="#ValidationError">type ValidationError</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#ValidationError.String">func (e *ValidationError) String() string</a></dd>
				
			
				
				<dd><a href="#ValidationResult">type ValidationResult</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#ValidationResult.Key">func (r *ValidationResult) Key(key string) *ValidationResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#ValidationResult.Message">func (r *ValidationResult) Message(message string, args ...interface{}) *ValidationResult</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h4>File</h4>
			<p>
			<span style="font-size:90%">
			
				<a href="../src/validation.html">validation.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<pre>var <span id="DefaultValidationKeys">DefaultValidationKeys</span> map[<a href="/pkg/builtin/#string">string</a>]map[<a href="/pkg/builtin/#int">int</a>]<a href="/pkg/builtin/#string">string</a></pre>
				<p>
Register default validation keys for all calls to Controller.Validation.Func().
Map from (package).func =&gt; (line =&gt; name of first arg to Validation func)
E.g. &#34;myapp/controllers.helper&#34; or &#34;myapp/controllers.(*Application).Action&#34;
This is set on initialization in the generated main.go file.
</p>

			
				<pre>var <span id="ValidationFilter">ValidationFilter</span> = func(c *<a href="#Controller">Controller</a>, fc []<a href="#Filter">Filter</a>) {
    <a href="#c">c</a>.<a href="#Validation">Validation</a> = &amp;<a href="#Validation">Validation</a>{
        <a href="#Errors">Errors</a>: <a href="#restoreValidationErrors">restoreValidationErrors</a>(<a href="#c">c</a>.<a href="#Request">Request</a>.<a href="#Request">Request</a>),
        <a href="#keep">keep</a>:   <a href="/pkg/builtin/#false">false</a>,
    }

    <a href="#fc">fc</a>[0](<a href="#c">c</a>, <a href="#fc">fc</a>[1:])

    <a href="#c">c</a>.<a href="#RenderArgs">RenderArgs</a>[&#34;errors&#34;] = <a href="#c">c</a>.<a href="#Validation">Validation</a>.<a href="#ErrorMap">ErrorMap</a>()

    <span class="comment">// Store the Validation errors</span>
    var <span id="errorsValue">errorsValue</span> <a href="/pkg/builtin/#string">string</a>
    if <a href="#c">c</a>.<a href="#Validation">Validation</a>.<a href="#keep">keep</a> {
        for <a href="#_">_</a>, <a href="#error">error</a> := range <a href="#c">c</a>.<a href="#Validation">Validation</a>.<a href="#Errors">Errors</a> {
            if <a href="#error">error</a>.<a href="#Message">Message</a> != &#34;&#34; {
                <a href="#errorsValue">errorsValue</a> += &#34;\x00&#34; + <a href="#error">error</a>.<a href="#Key">Key</a> + &#34;:&#34; + <a href="#error">error</a>.<a href="#Message">Message</a> + &#34;\x00&#34;
            }
        }
    }
    <a href="#c">c</a>.<a href="#SetCookie">SetCookie</a>(&amp;<a href="/pkg/net/http/">http</a>.<a href="/pkg/net/http/#Cookie">Cookie</a>{
        <a href="#Name">Name</a>:  <a href="#CookiePrefix">CookiePrefix</a> + &#34;_ERRORS&#34;,
        <a href="#Value">Value</a>: <a href="/pkg/net/url/">url</a>.<a href="/pkg/net/url/#QueryEscape">QueryEscape</a>(<a href="#errorsValue">errorsValue</a>),
        <a href="#Path">Path</a>:  &#34;/&#34;,
    })
}</pre>
				
			
		
		
		
			
			
			<h2 id="Validation">type <a href="../src/validation.html?s=319:385#L14">Validation</a></h2>
			<pre>type Validation struct {
    Errors []*<a href="#ValidationError">ValidationError</a>
    <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
A Validation context manages data validation and error messages.
</p>


			

			

			

			

			
				
				<h3 id="Validation.Check">func (*Validation) <a href="../src/validation.html?s=3654:3736#L147">Check</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Check(obj interface{}, checks ...<a href="#Validator">Validator</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				<p>
Apply a group of validators to a field, in order, and return the
ValidationResult from the first one that fails, or the last one that
succeeds.
</p>

				
				
			
				
				<h3 id="Validation.Clear">func (*Validation) <a href="../src/validation.html?s=435:463#L23">Clear</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Clear()</pre>
				
				
				
			
				
				<h3 id="Validation.Email">func (*Validation) <a href="../src/validation.html?s=2687:2743#L110">Email</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Email(str <a href="/pkg/builtin/#string">string</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Error">func (*Validation) <a href="../src/validation.html?s=1000:1081#L45">Error</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Error(message <a href="/pkg/builtin/#string">string</a>, args ...interface{}) *<a href="#ValidationResult">ValidationResult</a></pre>
				<p>
Add an error to the validation context.
</p>

				
				
			
				
				<h3 id="Validation.ErrorMap">func (*Validation) <a href="../src/validation.html?s=763:822#L34">ErrorMap</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) ErrorMap() map[<a href="/pkg/builtin/#string">string</a>]*<a href="#ValidationError">ValidationError</a></pre>
				<p>
Return the errors mapped by key.
If there are multiple validation errors associated with a single key, the
first one &#34;wins&#34;.  (Typically the first validation will be the more basic).
</p>

				
				
			
				
				<h3 id="Validation.HasErrors">func (*Validation) <a href="../src/validation.html?s=502:539#L27">HasErrors</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) HasErrors() <a href="/pkg/builtin/#bool">bool</a></pre>
				
				
				
			
				
				<h3 id="Validation.Keep">func (*Validation) <a href="../src/validation.html?s=387:414#L19">Keep</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Keep()</pre>
				
				
				
			
				
				<h3 id="Validation.Length">func (*Validation) <a href="../src/validation.html?s=2461:2530#L102">Length</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Length(obj interface{}, n <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Match">func (*Validation) <a href="../src/validation.html?s=2568:2646#L106">Match</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Match(str <a href="/pkg/builtin/#string">string</a>, regex *<a href="/pkg/regexp/">regexp</a>.<a href="/pkg/regexp/#Regexp">Regexp</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Max">func (*Validation) <a href="../src/validation.html?s=2029:2087#L86">Max</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Max(n <a href="/pkg/builtin/#int">int</a>, max <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.MaxSize">func (*Validation) <a href="../src/validation.html?s=2348:2420#L98">MaxSize</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) MaxSize(obj interface{}, max <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Min">func (*Validation) <a href="../src/validation.html?s=1936:1994#L82">Min</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Min(n <a href="/pkg/builtin/#int">int</a>, min <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.MinSize">func (*Validation) <a href="../src/validation.html?s=2235:2307#L94">MinSize</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) MinSize(obj interface{}, min <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Range">func (*Validation) <a href="../src/validation.html?s=2122:2183#L90">Range</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Range(n, min, max <a href="/pkg/builtin/#int">int</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="Validation.Required">func (*Validation) <a href="../src/validation.html?s=1833:1897#L78">Required</a></h3>
				<pre>func (v *<a href="#Validation">Validation</a>) Required(obj interface{}) *<a href="#ValidationResult">ValidationResult</a></pre>
				<p>
Test that the argument is non-nil and non-empty (if string or list)
</p>

				
				
			
		
			
			
			<h2 id="ValidationError">type <a href="../src/validation.html?s=78:130#L1">ValidationError</a></h2>
			<pre>type ValidationError struct {
    Message, Key <a href="/pkg/builtin/#string">string</a>
}</pre>
			

			

			

			

			

			
				
				<h3 id="ValidationError.String">func (*ValidationError) <a href="../src/validation.html?s=156:197#L6">String</a></h3>
				<pre>func (e *<a href="#ValidationError">ValidationError</a>) String() <a href="/pkg/builtin/#string">string</a></pre>
				<p>
Returns the Message.
</p>

				
				
			
		
			
			
			<h2 id="ValidationResult">type <a href="../src/validation.html?s=1329:1397#L54">ValidationResult</a></h2>
			<pre>type ValidationResult struct {
    Error *<a href="#ValidationError">ValidationError</a>
    Ok    <a href="/pkg/builtin/#bool">bool</a>
}</pre>
			<p>
A ValidationResult is returned from every validation method.
It provides an indication of success, and a pointer to the Error (if any).
</p>


			

			

			

			

			
				
				<h3 id="ValidationResult.Key">func (*ValidationResult) <a href="../src/validation.html?s=1399:1459#L59">Key</a></h3>
				<pre>func (r *<a href="#ValidationResult">ValidationResult</a>) Key(key <a href="/pkg/builtin/#string">string</a>) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
				
				<h3 id="ValidationResult.Message">func (*ValidationResult) <a href="../src/validation.html?s=1519:1608#L66">Message</a></h3>
				<pre>func (r *<a href="#ValidationResult">ValidationResult</a>) Message(message <a href="/pkg/builtin/#string">string</a>, args ...interface{}) *<a href="#ValidationResult">ValidationResult</a></pre>
				
				
				
			
		
	

	







